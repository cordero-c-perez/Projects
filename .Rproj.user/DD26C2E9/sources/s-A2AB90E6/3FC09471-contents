---
title: "Time Series Analysis of NYC Taxi Ridership"
author: "Cordero Perez"
date: "4/23/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r, include = TRUE, echo = FALSE}

#Times-Seris-Analysis - ARIMA Model

rm(list = ls(all.names = TRUE)) # clear global environment

par(mfrow = c(1,1)) # reset image window for basic plotting

#libraries
library(tidyverse)
library(TSA)
library(gridExtra) 
library(tseries)
library(forecast)


#load and convert data to a time series object
tsdata_original <- read_csv("~/Documents/R/RProjects-Public/Time-Series-Analysis-Data/ts_data_freq_12-Table 1.csv", col_names = FALSE)
tsdata_original <- tsdata_original$X1
tsdata <- tsdata_original[13:108] #extract section 2010 through 2017
tsdata <- ts(tsdata, frequency = 12, start = 2010) #assign years to 12 cycle structure


#view the time series data for structure
tsdata 

#questionable points: 2/2010, 3/2010 ~ accuracy seems off

#initial plot
plot(tsdata, type = "l", main = str_to_title("time series plot of raw data"),
     xlab = str_to_title("monthly 2010:2017"), 
     ylab = str_to_title("total trips"))


#key info: cycle = Freq = 12
#boxplot construction to explore seasonal trend
boxplot(tsdata ~ cycle(tsdata), main = str_to_title("seasonality of trip data by cycle"),
        xlab = str_to_title("cycle summary 2010:2017"),
        ylab = str_to_title("median across time"), col = "light blue")

```
## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
